2025-09-08 11:35:54.69
89f3d62a
User
2:35:54 PM [express] GET /api/auth/oauth/callback 302 in 3ms
2025-09-08 11:35:55.53
89f3d62a
User
2:35:55 PM [express] GET /api/user/profile 401 in 2ms :: {"message":"Session expired"}
2025-09-08 11:36:00.07
89f3d62a
User
2:36:00 PM [express] GET /api/user/profile 401 in 1ms :: {"message":"Session expired"}
2025-09-08 11:36:02.20
89f3d62a
User
2:36:02 PM [express] GET /api/auth/oauth/initiate 200 in 1ms :: {"authUrl":"https://citycatalyst.ope…
2025-09-08 11:36:05.25
89f3d62a
User
Exchanging code for token...
2025-09-08 11:36:05.25
89f3d62a
User
=== CITYCATALYST TOKEN EXCHANGE DEBUG ===
2025-09-08 11:36:05.25
89f3d62a
User
URL: https://citycatalyst.openearth.dev/api/v0/token/
2025-09-08 11:36:05.25
89f3d62a
User
Body: grant_type=authorization_code&client_id=kIzoXFLTxmzu_L3FnL_CxMlDkI2cSm-L8rJ1LWn-hROvA4dQMK97aFC6ahOJd_CQ&code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRfaWQiOiJrSXpvWEZMVHhtenVfTDNGbkxfQ3hNbERrSTJjU20tTDhySjFMV24taFJPdkE0ZFFNSzk3YUZDNmFoT0pkX0NRIiwicmVkaXJlY3RfdXJpIjoiaHR0cHM6Ly9jYy1ib3VuZGFyeS1waWNrZXIucmVwbGl0LmFwcC9hcGkvYXV0aC9vYXV0aC9jYWxsYmFjayIsInNjb3BlIjoicmVhZCB3cml0ZSIsImNvZGVfY2hhbGxlbmdlIjoiOWdEVE14NnVTbFk0b1VYWVlxblBwc29FZmVIUDZnMGJQVE4xdzVnVGtGUSIsImlhdCI6MTc1NzM0MjE2NSwiZXhwIjoxNzU3MzQyNDY1LCJhdWQiOiJodHRwczovL2NpdHljYXRhbHlzdC5vcGVuZWFydGguZGV2IiwiaXNzIjoiaHR0cHM6Ly9jaXR5Y2F0YWx5c3Qub3BlbmVhcnRoLmRldiIsInN1YiI6IjFkNTNmNWI2LWZmYTMtNGUyNy05MjRhLTM0NzRmZGIxNmZmMyIsImp0aSI6IjVjMmY2ZTc2LWM5YzAtNDc0Ni1hNzg0LWM1NGViNDE4ZjIxMyJ9.RNlFthU4TAtrgz_cgzY3TfhK8k-moB6bWUrU1H7r76c&redirect_uri=https%3A%2F%2Fcc-boundary-picker.replit.app%2Fapi%2Fauth%2Foauth%2Fcallback&code_verifier=K3VtSIATjMSm7ZmfB6R3X8OmULu8FIrZXWmFk9W_IfE
2025-09-08 11:36:05.25
89f3d62a
User
Client ID: kIzoXFLTxmzu_L3FnL_CxMlDkI2cSm-L8rJ1LWn-hROvA4dQMK97aFC6ahOJd_CQ
2025-09-08 11:36:05.25
89f3d62a
User
Redirect URI: https://cc-boundary-picker.replit.app/api/auth/oauth/callback
2025-09-08 11:36:05.25
89f3d62a
User
Code (first 50 chars): eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRfa...
2025-09-08 11:36:05.25
89f3d62a
User
Code Verifier (first 20 chars): K3VtSIATjMSm7ZmfB6R3...
2025-09-08 11:36:05.47
89f3d62a
User
Token exchange response status: 400
2025-09-08 11:36:05.47
89f3d62a
User
Token exchange response headers: {
2025-09-08 11:36:05.47
89f3d62a
User
'access-control-allow-credentials': 'false',
2025-09-08 11:36:05.47
89f3d62a
User
'access-control-allow-headers': 'Content-Type, Authorization',
2025-09-08 11:36:05.47
89f3d62a
User
'access-control-allow-methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',
2025-09-08 11:36:05.47
89f3d62a
User
'access-control-allow-origin': '*',
2025-09-08 11:36:05.47
89f3d62a
User
connection: 'keep-alive',
2025-09-08 11:36:05.47
89f3d62a
User
'content-type': 'application/json',
2025-09-08 11:36:05.47
89f3d62a
User
date: 'Mon, 08 Sep 2025 14:36:05 GMT',
2025-09-08 11:36:05.47
89f3d62a
User
'transfer-encoding': 'chunked',
2025-09-08 11:36:05.47
89f3d62a
User
vary: 'rsc, next-router-state-tree, next-router-prefetch, next-router-segment-prefetch'
2025-09-08 11:36:05.47
89f3d62a
User
}
2025-09-08 11:36:05.47
89f3d62a
User
Token exchange error response: {"error":{"message":"Single-use code."}}
2025-09-08 11:36:05.47
89f3d62a
User
=== END TOKEN EXCHANGE DEBUG ===
2025-09-08 11:36:05.47
89f3d62a
User
Code already used, likely due to app restart. Using sample user for testing.
2025-09-08 11:36:05.47
89f3d62a
User
2:36:05 PM [express] GET /api/auth/oauth/callback 302 in 218ms
2025-09-08 11:36:06.16
89f3d62a
User
2:36:06 PM [express] GET /api/cities 200 in 1ms :: {"cities":[{"id":"a56152ea-c8d3-4d25-a86e-82d42cb…
2025-09-08 11:36:06.16
89f3d62a
User
2:36:06 PM [express] GET /api/user/profile 200 in 0ms :: {"id":"0131a2e4-8ab4-44fd-b25c-e61fa64cfe6a…
2025-09-08 11:36:31.24
89f3d62a
User
2:36:31 PM [express] GET /api/cities/city-buenos-aires 200 in 1ms :: {"city":{"id":"a56152ea-c8d3-4d…
2025-09-08 11:36:44.03
89f3d62a
User
2:36:44 PM [express] GET /api/boundaries/search 304 in 12583ms :: {"boundaries":[{"osmId":"81339746"…