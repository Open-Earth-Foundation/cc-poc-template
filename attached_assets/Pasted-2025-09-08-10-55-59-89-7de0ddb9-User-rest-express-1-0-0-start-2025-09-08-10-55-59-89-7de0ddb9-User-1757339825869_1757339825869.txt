2025-09-08 10:55:59.89
7de0ddb9
User
> rest-express@1.0.0 start
2025-09-08 10:55:59.89
7de0ddb9
User
> NODE_ENV=production node dist/index.js
2025-09-08 10:56:00.44
7de0ddb9
User
OAuth Redirect URI: https://cc-boundary-picker.replit.app/api/auth/oauth/callback
2025-09-08 10:56:00.50
7de0ddb9
User
1:56:00 PM [express] serving on port 5000
2025-09-08 10:56:15.03
7de0ddb9
User
1:56:15 PM [express] GET /api/user/profile 401 in 3ms :: {"message":"Session expired"}
2025-09-08 10:56:19.44
7de0ddb9
User
1:56:19 PM [express] GET /api/user/profile 401 in 0ms :: {"message":"Session expired"}
2025-09-08 10:56:24.51
7de0ddb9
User
1:56:24 PM [express] GET /api/auth/oauth/initiate 200 in 2ms :: {"authUrl":"https://citycatalyst.opeâ€¦
2025-09-08 10:56:27.84
7de0ddb9
User
Exchanging code for token...
2025-09-08 10:56:27.84
7de0ddb9
User
Token exchange request:
2025-09-08 10:56:27.84
7de0ddb9
User
URL: https://citycatalyst.openearth.dev/api/v0/token/
2025-09-08 10:56:27.84
7de0ddb9
User
Body: grant_type=authorization_code&client_id=kIzoXFLTxmzu_L3FnL_CxMlDkI2cSm-L8rJ1LWn-hROvA4dQMK97aFC6ahOJd_CQ&code=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRfaWQiOiJrSXpvWEZMVHhtenVfTDNGbkxfQ3hNbERrSTJjU20tTDhySjFMV24taFJPdkE0ZFFNSzk3YUZDNmFoT0pkX0NRIiwicmVkaXJlY3RfdXJpIjoiaHR0cHM6Ly9jYy1ib3VuZGFyeS1waWNrZXIucmVwbGl0LmFwcC9hcGkvYXV0aC9vYXV0aC9jYWxsYmFjayIsInNjb3BlIjoicmVhZCB3cml0ZSIsImNvZGVfY2hhbGxlbmdlIjoibG9NbWVIcWcwSDFqcFY1eFdoSU5zczQxNGVUQ0Y0U214M25VWHhnd3o1byIsImlhdCI6MTc1NzMzOTc4NywiZXhwIjoxNzU3MzQwMDg3LCJhdWQiOiJodHRwczovL2NpdHljYXRhbHlzdC5vcGVuZWFydGguZGV2IiwiaXNzIjoiaHR0cHM6Ly9jaXR5Y2F0YWx5c3Qub3BlbmVhcnRoLmRldiIsInN1YiI6IjFkNTNmNWI2LWZmYTMtNGUyNy05MjRhLTM0NzRmZGIxNmZmMyIsImp0aSI6IjhlNDllZTllLTgzN2EtNDdjYi1hYjQxLTIzOGI2MTc4NzFiNiJ9.tfAndFsw4--cch_ozjDkfHDLBOJ03-fsK--tKj1cQeo&redirect_uri=https%3A%2F%2Fcc-boundary-picker.replit.app%2Fapi%2Fauth%2Foauth%2Fcallback&code_verifier=pg_uHums-rJEYOaCS75JvUwlW_EyOqztX9ZRL_hvS_4
2025-09-08 10:56:27.84
7de0ddb9
User
Client ID: kIzoXFLTxmzu_L3FnL_CxMlDkI2cSm-L8rJ1LWn-hROvA4dQMK97aFC6ahOJd_CQ
2025-09-08 10:56:27.84
7de0ddb9
User
Redirect URI: https://cc-boundary-picker.replit.app/api/auth/oauth/callback
2025-09-08 10:56:28.10
7de0ddb9
User
Token exchange response status: 200
2025-09-08 10:56:28.10
7de0ddb9
User
Token exchange response headers: {
2025-09-08 10:56:28.10
7de0ddb9
User
'access-control-allow-credentials': 'false',
2025-09-08 10:56:28.10
7de0ddb9
User
'access-control-allow-headers': 'Content-Type, Authorization',
2025-09-08 10:56:28.10
7de0ddb9
User
'access-control-allow-methods': 'GET,POST,PUT,PATCH,DELETE,OPTIONS',
2025-09-08 10:56:28.10
7de0ddb9
User
'access-control-allow-origin': '*',
2025-09-08 10:56:28.10
7de0ddb9
User
connection: 'keep-alive',
2025-09-08 10:56:28.10
7de0ddb9
User
'content-type': 'application/json',
2025-09-08 10:56:28.10
7de0ddb9
User
date: 'Mon, 08 Sep 2025 13:56:28 GMT',
2025-09-08 10:56:28.10
7de0ddb9
User
'transfer-encoding': 'chunked',
2025-09-08 10:56:28.10
7de0ddb9
User
vary: 'rsc, next-router-state-tree, next-router-prefetch, next-router-segment-prefetch'
2025-09-08 10:56:28.10
7de0ddb9
User
}
2025-09-08 10:56:28.10
7de0ddb9
User
Token exchange successful, getting user profile...
2025-09-08 10:56:28.23
7de0ddb9
User
OAuth callback error: Error: Failed to fetch user profile: Method Not Allowed
2025-09-08 10:56:28.23
7de0ddb9
User
at getUserProfile (file:///home/runner/workspace/dist/index.js:248:11)
2025-09-08 10:56:28.23
7de0ddb9
User
at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
2025-09-08 10:56:28.23
7de0ddb9
User
at async file:///home/runner/workspace/dist/index.js:625:32
2025-09-08 10:56:28.24
7de0ddb9
User
1:56:28 PM [express] GET /api/auth/oauth/callback 302 in 392ms
2025-09-08 10:56:28.90
7de0ddb9
User
1:56:28 PM [express] GET /api/user/profile 401 in 1ms :: {"message":"User not found"}